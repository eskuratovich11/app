#:import get_color_from_hex kivy.utils.get_color_from_hex
<FirstScreen>:
    md_bg_color: app.theme_cls.bg_light
    MDFillRoundFlatButton:
        id:start
        text: "start"
        size_hint: None, None
        size: 800, 500
        pos_hint: {"center_x": 0.5, "center_y": 0.7}

        on_release: root.manager.current= 'dvizhuha'
        md_bg_color: app.theme_cls.primary_light

    MDFillRoundFlatButton:
        id: set1
        text: "settings"
        size_hint: None, None
        size: 800, 500
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        on_release: root.manager.current= 'settings'

    MDFillRoundFlatIconButton:
        id: exit
        icon: "exit-to-app"
        size_hint: None, None
        size: 800, 500
        md_bg_color: app.theme_cls.primary_dark
        pos_hint: {"center_x": 0.5, "center_y": 0.3}
        on_release: app.stop()

<MainScreen> :
    md_bg_color: app.theme_cls.bg_light
    MDFillRoundFlatButton:
        id: create
        text: "create"
        size_hint: None, None
        size: 300, 100
        pos_hint: {"center_x": 0.15, "center_y": 0.05}
        on_release: on_release: root.open()
    MDFillRoundFlatButton:
        id: clearb
        text: "clear"
        size_hint: None, None
        size: 300, 100
        pos_hint: {"center_x": 0.5, "center_y": 0.05}
        on_release: root.child.clear()
    MDFillRoundFlatIconButton:
        id: back_main
        icon: "arrow-left-bold-circle"
        size_hint: None, None
        size: 300, 200
        text: "back"
        md_bg_color: app.theme_cls.primary_dark
        icon_size: "64sp"
        pos_hint: {"center_x": 0.85, "center_y": 0.05}
        on_release: root.manager.current= 'first'
<CustomLayout> :
    id: custom
    size_hint: None, None
    size: 1000, 1900
    pos: 0,1900

<SecondScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        adaptive_size: True
        MDTextField:
            id:x
            max_text_length: 4
            hint_text: ' x'
            multiline: False

        MDTextField:
            id:y
            max_text_length: 4
            hint_text: ' y'
            multiline: False

        MDTextField:
            id:vx
            max_text_length: 6
            hint_text: ' vx'
            multiline: False
        MDTextField:
            id:vy
            max_text_length: 6
            hint_text: ' vy'
            multiline: False
        MDTextField:
            id:m
            max_text_length: 10
            hint_text: ' m'
            multiline: False
        MDTextField:
            id:q
            max_text_length: 5
            hint_text: ' q'
            multiline: False
        MDBoxLayout:
            adaptive_size: True
            MDIconButton:
                icon: "minus"
                size_hint: None, None
                size: 200, 200
                pos_hint: {"center_x": 0.1, "center_y": 0.5}
                on_release: root.m_p(size, 1)
            MDTextButton:
                id: size
                text: "50"
                pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDIconButton:
                icon: "plus"
                size_hint: None, None
                size: 200, 200
                pos_hint: {"center_x": 0.7, "center_y": 0.5}
                on_release: root.m_p(size, 0)
        MDBoxLayout:
            adaptive_size: True
            MDIconButton:
                icon: "check-outline"
                size_hint: None, None
                size: 200, 200
                pos_hint: {"center_x": 0.4, "center_y": 0.5}
                on_release:
                    root.create_object(x.text, y.text, vx.text, vy.text, m.text, q.text)
                    root.dismiss()
            MDIconButton:
                icon: "arrow-left-bold"
                size_hint: None, None
                size: 200, 200
                pos_hint: {"center_x": 0.6, "center_y": 0.5}
                on_release: root.dismiss()

<SettingScreen>:
    md_bg_color: app.theme_cls.bg_light
    MDBoxLayout:
        orientation: 'vertical'
        MDToolbar:
            id: tool
            title: "Settings"
        MDRelativeLayout:

            orientation: 'vertical'


            MDFillRoundFlatButton:
                id:change
                text:'Change language'
                size_hint: None, None
                size: 500, 300
                pos_hint: {'center_x': 0.5, 'center_y': 0.7}
                on_release: dropdown.open(self)
            MDRelativeLayout:

                MDIconButton:
                    id: purple
                    icon: "circle"
                    size_hint: None, None
                    size: 200, 200
                    md_bg_color: get_color_from_hex('9C27B0')
                    pos_hint: {"center_x": 0.3, "center_y": 0.5}
                    on_release:
                        app.theme_cls.primary_palette = "Purple"
                        root.manager.get_screen('settings').ids.purple.md_bg_color = get_color_from_hex('9C27B0')
                        root.manager.get_screen('settings').ids.red.md_bg_color = get_color_from_hex('D32F2F')
                        root.manager.get_screen('settings').ids.green.md_bg_color = get_color_from_hex('388E3C')
                        root.manager.get_screen('first').ids.start.md_bg_color = app.theme_cls.primary_light
                        root.manager.get_screen('first').ids.exit.md_bg_color = app.theme_cls.primary_dark
                        root.manager.get_screen('dvizhuha').ids.back_main.md_bg_color = app.theme_cls.primary_dark

                MDIconButton:
                    id: red
                    icon: "circle"
                    size_hint: None, None
                    size: 200, 200
                    md_bg_color: get_color_from_hex('D32F2F')
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    on_release:
                        app.theme_cls.primary_palette = "Red"
                        root.manager.get_screen('settings').ids.purple.md_bg_color = get_color_from_hex('9C27B0')
                        root.manager.get_screen('settings').ids.red.md_bg_color = get_color_from_hex('D32F2F')
                        root.manager.get_screen('settings').ids.green.md_bg_color = get_color_from_hex('388E3C')
                        root.manager.get_screen('first').ids.start.md_bg_color = app.theme_cls.primary_light
                        root.manager.get_screen('first').ids.exit.md_bg_color = app.theme_cls.primary_dark
                        root.manager.get_screen('dvizhuha').ids.back_main.md_bg_color = app.theme_cls.primary_dark
                MDIconButton:
                    id: green
                    icon: "circle"
                    size_hint: None, None
                    size: 200, 200
                    md_bg_color: get_color_from_hex('388E3C')
                    pos_hint: {"center_x": 0.7, "center_y": 0.5}
                    on_release:
                        app.theme_cls.primary_palette = "Green"
                        root.manager.get_screen('settings').ids.purple.md_bg_color = get_color_from_hex('9C27B0')
                        root.manager.get_screen('settings').ids.red.md_bg_color = get_color_from_hex('D32F2F')
                        root.manager.get_screen('settings').ids.green.md_bg_color = get_color_from_hex('388E3C')
                        root.manager.get_screen('first').ids.start.md_bg_color = app.theme_cls.primary_light
                        root.manager.get_screen('first').ids.exit.md_bg_color = app.theme_cls.primary_dark
                        root.manager.get_screen('dvizhuha').ids.back_main.md_bg_color = app.theme_cls.primary_dark
            MDFillRoundFlatIconButton:
                id: back_set
                icon: "arrow-left-bold-circle"
                size_hint: None, None
                size: 300, 200
                text: "back"
                md_bg_color: app.theme_cls.primary_dark
                icon_size: "64sp"
                pos_hint: {"center_x": 0.5, "center_y": 0.3}
                on_release: root.manager.current= 'first'

    DropDown:
        id:dropdown
        dropdown : self.dismiss()

        MDTextButton:
            text: 'rus'
            size_hint:  None, None
            size:  100, 30
            on_release:
                root.change(
                root.manager.get_screen('settings').ids.change,
                root.manager.get_screen('settings').ids.tool,
                root.manager.get_screen('first').ids.start,
                root.manager.get_screen('first').ids.set1,
                root.manager.get_screen('dvizhuha').ids.create,
                root.manager.get_screen('dvizhuha').ids.clearb,
                root.manager.get_screen('dvizhuha').ids.back_main,
                root.manager.get_screen('settings').ids.back_set,
                1 )

        MDTextButton:
            text: 'eng'
            size_hint:  None, None
            size:  100, 30

            on_release:
                root.change(
                root.manager.get_screen('settings').ids.change,
                root.manager.get_screen('settings').ids.tool,
                root.manager.get_screen('first').ids.start,
                root.manager.get_screen('first').ids.set1,
                root.manager.get_screen('dvizhuha').ids.create,
                root.manager.get_screen('dvizhuha').ids.clearb,
                root.manager.get_screen('dvizhuha').ids.back_main,
                root.manager.get_screen('settings').ids.back_set,
                0 )
<Object>
    size_hint: None, None
    size: self.size
    pos: 0,100
<Move>
    size_hint: None, None
    size: 1000, 1900
    pos: 0,100